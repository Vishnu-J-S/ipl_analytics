{% extends 'base.html' %}

{% block title %}Advanced IPL Stats{% endblock %}

{% block content %}
<h2>Team Wins by Year</h2>
<div id="chart_div2" style="width:100%; height:500px;"></div>

<script src="https://www.gstatic.com/charts/loader.js"></script>
<script>
google.charts.load('current', {'packages':['corechart']});
google.charts.setOnLoadCallback(drawChart);

function drawChart() {
  var data = google.visualization.arrayToDataTable([
    ['Season', {% for team in teams %}'{{ team }}',{% endfor %}],
    {% for year, values in team_wins.items %}
      ['{{ year }}', {% for win in values %}{{ win }}, {% endfor %}],
    {% endfor %}
  ]);

  var options = { isStacked: true, title: 'Matches Won per Team per Year' };
  var chart = new google.visualization.BarChart(document.getElementById('chart_div2'));
  chart.draw(data, options);
}
</script>
{% endblock %}
